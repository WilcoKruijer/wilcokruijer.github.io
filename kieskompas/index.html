<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kieskompas Coalitie</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
          Cantarell, sans-serif;
        max-width: 1600px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      h1 {
        color: #333;
        margin-bottom: 10px;
      }
      .explainer {
        color: #666;
        font-size: 1em;
        line-height: 1.6;
        margin-bottom: 20px;
        max-width: 800px;
      }
      .muted {
        color: #666;
        font-size: 0.9em;
        line-height: 1.4;
        margin-bottom: 20px;
        max-width: 800px;
      }
      .container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }
      .svg-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .data-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
        max-height: 800px;
      }
      .party-selector {
        margin: 10px 0;
      }
      .party-checkbox {
        display: flex;
        align-items: center;
        padding: 8px;
        margin: 5px 0;
        background: #f8f9fa;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.2s;
      }
      .party-checkbox:hover {
        background: #e9ecef;
      }
      .party-checkbox input {
        margin-right: 10px;
        cursor: pointer;
      }
      .party-checkbox label {
        cursor: pointer;
        flex: 1;
        font-size: 0.9em;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .party-info {
        flex: 1;
      }
      .seats-badge {
        background: #28a745;
        color: white;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 0.85em;
        font-weight: bold;
        margin-left: 10px;
        min-width: 60px;
        text-align: center;
      }
      .search-box {
        margin: 10px 0;
        width: 100%;
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 4px;
        font-size: 1em;
        box-sizing: border-box;
      }
      .search-box:focus {
        outline: none;
        border-color: #007bff;
      }
      .controls-row {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
        align-items: stretch;
      }
      .control-item {
        flex: 1;
        background: #007bff;
        color: white;
        padding: 10px;
        border-radius: 4px;
        display: flex;
        align-items: center;
      }
      .control-item input {
        margin-right: 8px;
      }
      .control-item label {
        color: white;
        font-weight: 500;
      }
      .average-marker {
        fill: #ff0000;
        stroke: #ffffff;
        stroke-width: 2;
      }
      .average-label {
        fill: #ff0000;
        font-weight: bold;
        font-size: 14px;
      }
      .selected-count {
        background: #007bff;
        color: white;
        padding: 10px;
        border-radius: 4px;
        text-align: left;
        font-size: 0.9em;
        line-height: 1.4;
      }
      .coalition-stats {
        display: inline-block;
        background: #28a745;
        color: white;
        padding: 8px 15px;
        border-radius: 4px;
        margin-left: auto;
        font-size: 0.85em;
        line-height: 1.4;
        vertical-align: middle;
      }
      .coalition-stats-item {
        display: inline;
        margin: 0 10px 0 0;
        white-space: nowrap;
      }
      .coalition-stats-item:last-child {
        margin-right: 0;
      }
      .coalition-stats-label {
        font-weight: 500;
      }
      .header-row {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }
      .header-row h2 {
        margin: 0;
        display: inline-block;
      }
      .party {
        border-left: 3px solid #007bff;
        padding: 10px;
        margin: 10px 0;
        background: #f8f9fa;
      }
      .party-name {
        font-weight: bold;
        color: #007bff;
        margin-bottom: 5px;
      }
      .party-position {
        font-size: 0.9em;
        color: #666;
      }
      button {
        background: #007bff;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-bottom: 20px;
      }
      button:hover {
        background: #0056b3;
      }
      .stats {
        background: #e7f3ff;
        padding: 15px;
        border-radius: 4px;
        margin-bottom: 20px;
      }
      footer {
        text-align: center;
        margin-top: 40px;
        padding: 20px;
        color: #666;
        font-size: 0.9em;
      }
      footer a {
        color: #007bff;
        text-decoration: none;
      }
      footer a:hover {
        text-decoration: underline;
      }
      @media (max-width: 768px) {
        .container {
          grid-template-columns: 1fr;
        }
        .header-row {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }
        .coalition-stats {
          margin-left: 0;
        }
      }
    </style>
  </head>
  <body>
    <h1>Waar ligt de potentiÃ«le coalitie?</h1>
    <p class="explainer">
      <p class="explainer">
      Selecteer politieke partijen om te zien waar hun gemiddelde positie ligt
      op het politieke kompas. Met de gewogen optie wordt rekening gehouden met
      het aantal zetels per partij, zodat grotere partijen meer invloed hebben
      op de gemiddelde positie. Het rode punt toont de berekende positie.
    </p>
      
      <p class="muted">Data komt van <a href="https://www.kieskompas.nl">kieskompas.nl</a> (2025).</p>
    </p>

    <div class="container">
      <div class="data-container">
        <div class="header-row">
          <h2>Selecteer</h2>
          <div id="coalitionStats" class="coalition-stats" style="display: none;">
            <div id="coalitionStatsContent"></div>
          </div>
        </div>
        <div class="controls-row">
          <div id="selectedCount" class="selected-count control-item">
            Geselecteerd: geen
          </div>
          <div class="control-item">
            <input
              type="checkbox"
              id="weighted-average"
              style="accent-color: white; cursor: pointer"
            />
            <label for="weighted-average" style="cursor: pointer">
              Gewogen (zetels)
            </label>
          </div>
        </div>
        <input
          type="text"
          id="searchBox"
          class="search-box"
          placeholder="Zoek partij..."
        />
        <div id="partyPicker"></div>
      </div>

      <div class="svg-container">
        <h2>Politiek Kompas</h2>
        <div id="svgDisplay"></div>
      </div>
    </div>

    <footer>
      Door <a href="/">Wilco Kruijer</a>
    </footer>

    <script type="module" src="parser.js"></script>
  </body>
</html>
